<html
        xmlns:th="https://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout}">
<style>
    #myForm {
        display: none;
    }
</style>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Title</title>
</head>
<div layout:fragment="navbar" class="collapse navbar-collapse" id="navbarSupportedContent">
    <a th:href="@{/}" class="navbar-brand ms-auto">Home Page</a>
</div>
<body style="background-color: black">
    <video  style="width: 100%; height: auto" autoplay muted id="videoPlayer">
        <source th:src="@{/video/{adid}(adid = ${advertisement.id})}" type="video/mp4" id="videoSource">
    </video>

    <form id="myForm" th:action="@{/device/{deviceid}/{adID} (deviceid = ${deviceId}, adID = ${advertisement.id})}" method="post">
        <input type="hidden" name="adId" th:value="${adId}">
    </form>
    <script>
        const videoPlayer = document.getElementById('videoPlayer');
        const videoSource = document.getElementById('videoSource');
        videoPlayer.addEventListener('ended', () => {
            document.getElementById('myForm').submit();
        });
    </script>
</body>
</html>