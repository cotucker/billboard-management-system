<html
        xmlns:th="https://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout}">
<style>

</style>
<script>

</script>

<head>
    <title>Users List</title>
</head>


<div layout:fragment="navbar" class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" th:href="@{/api/admin/users/logs}">Logs</a></li>
    </ul>
    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" th:href="@{/login}">Logout</a></li>
    </ul>
    <a class="navbar-brand ms-auto" >Admin</a>
</div>



<body class="d-flex flex-column h-100">
<main class="flex-shrink-0">
    <section layout:fragment="body" class="py-5">
        <div class="container px-5 my-5">
<!--            <div class="text-center mb-5">-->
<!--                <h1 class="fw-bolder">All users</h1>-->
<!--            </div>-->

            <div class="container">
                <h1 class="mt-5 fw-bold">System Dashboard</h1>
                <div class="row">
                    <div class="col-md-4">
                        <div class="card text-white bg-primary mb-3" th:object="${userService}" >
                            <div class="card-header">Users</div>
                            <div class="card-body">
                                <h4 class="card-title" th:text="${userService.getUsersCount()}"></h4>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card text-white bg-black mb-3" th:object="${deviceService}">
                            <div class="card-header">Devices</div>
                            <div class="card-body">
                                <h4 class="card-title" th:text="${deviceService.getAllDeviceCount()}"></h4>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card text-white bg-black mb-3" th:object="${adService}">
                            <div class="card-header">Files</div>
                            <div class="card-body">
                                <h4 class="card-title" th:text="${adService.getAllAdvertisementCount()}"></h4>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="ui container">
                <h2 class="fw-bold">User List</h2>

                <div class="input-group">
                    <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon"/>
                    <button type="button" class="btn btn-dark rounded" data-mdb-ripple-init>search</button>
                </div>

                <br>

                    <a class="btn btn-dark" th:href="@{/api/admin/users/create}" style="margin-bottom: 20px;">
                        Add New User
                    </a>

                <table class="ui celled table">
                    <thead>
                    <tr>
                        <th>Username</th>
                        <th>Password</th>
                        <th>Role</th>
                    </tr>
                    </thead>

                    <tbody>
                    <tr th:each="user : ${users}">
                        <td>
                            <a class="text-decoration-none link-dark" th:text="${user.username}" th:href="@{/api/admin/users/{userid}(userid=${user.id})}">Username</a>
                        </td>
                        <td>
                            <a class="text-decoration-none link-dark" th:text="${user.password}" th:href="@{/api/admin/users/{userid}(userid=${user.id})}">Password</a>
                        </td>
                        <td>
                            <a class="text-decoration-none link-dark" th:text="${user.role}" th:href="@{/api/admin/users/{userid}(userid=${user.id})}">Role</a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>
</main>
</body>
</html>